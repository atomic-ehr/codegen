// WARNING: This file is autogenerated by @atomic-ehr/codegen.
// GitHub: https://github.com/orgs/atomic-ehr/repositories
// Any manual changes made to this file may be overwritten.

import type { Annotation } from "../hl7-fhir-r4-core/Annotation";
import type { ContactDetail } from "../hl7-fhir-r4-core/ContactDetail";
import type { Evidence } from "../hl7-fhir-r4-core/Evidence";
import type { Identifier } from "../hl7-fhir-r4-core/Identifier";
import type { Reference } from "../hl7-fhir-r4-core/Reference";
import type { RelatedArtifact } from "../hl7-fhir-r4-core/RelatedArtifact";

export interface Evidence_Synthesis_Profile {
    __profileUrl: "http://hl7.org/fhir/StructureDefinition/synthesis";

    url?: string;
    identifier?: Identifier[];
    version?: string;
    title?: string;
    shortTitle?: string;
    subtitle?: string;
    status: 'draft' | 'active' | 'retired' | 'unknown';
    date?: string;
    publisher?: string;
    contact?: ContactDetail[];
    description?: string;
    note?: Annotation[];
    copyright?: string;
    approvalDate?: string;
    lastReviewDate?: string;
    author?: ContactDetail[];
    editor?: ContactDetail[];
    reviewer?: ContactDetail[];
    relatedArtifact?: RelatedArtifact[];
    exposureBackground: Reference<'EvidenceVariable'>;
    exposureVariant: Reference<'EvidenceVariable'>[];
    outcome: Reference<'EvidenceVariable'>[];
}

export const attach_Evidence_Synthesis_Profile = (resource: Evidence, profile: Evidence_Synthesis_Profile): Evidence => {
    return {
        ...resource,
        meta: {
            profile: ['http://hl7.org/fhir/StructureDefinition/synthesis']
        },
        url: profile.url,
        identifier: profile.identifier,
        version: profile.version,
        title: profile.title,
        shortTitle: profile.shortTitle,
        subtitle: profile.subtitle,
        status: profile.status,
        date: profile.date,
        publisher: profile.publisher,
        contact: profile.contact,
        description: profile.description,
        note: profile.note,
        copyright: profile.copyright,
        approvalDate: profile.approvalDate,
        lastReviewDate: profile.lastReviewDate,
        author: profile.author,
        editor: profile.editor,
        reviewer: profile.reviewer,
        relatedArtifact: profile.relatedArtifact,
        exposureBackground: profile.exposureBackground,
        exposureVariant: profile.exposureVariant,
        outcome: profile.outcome,
    }
}

export const extract_Evidence = (resource: Evidence): Evidence_Synthesis_Profile => {
    if (resource.exposureVariant === undefined) {
        throw new Error("'exposureVariant' is required for http://hl7.org/fhir/StructureDefinition/synthesis");
    }
    if (resource.outcome === undefined) {
        throw new Error("'outcome' is required for http://hl7.org/fhir/StructureDefinition/synthesis");
    }
    return {
        __profileUrl: 'http://hl7.org/fhir/StructureDefinition/synthesis',
        url: resource.url,
        identifier: resource.identifier,
        version: resource.version,
        title: resource.title,
        shortTitle: resource.shortTitle,
        subtitle: resource.subtitle,
        status: resource.status,
        date: resource.date,
        publisher: resource.publisher,
        contact: resource.contact,
        description: resource.description,
        note: resource.note,
        copyright: resource.copyright,
        approvalDate: resource.approvalDate,
        lastReviewDate: resource.lastReviewDate,
        author: resource.author,
        editor: resource.editor,
        reviewer: resource.reviewer,
        relatedArtifact: resource.relatedArtifact,
        exposureBackground: resource.exposureBackground,
        exposureVariant: resource.exposureVariant,
        outcome: resource.outcome,
    }
}
