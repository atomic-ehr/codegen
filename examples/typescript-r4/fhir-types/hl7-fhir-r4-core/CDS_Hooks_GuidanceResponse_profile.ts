// WARNING: This file is autogenerated by @atomic-ehr/codegen.
// GitHub: https://github.com/orgs/atomic-ehr/repositories
// Any manual changes made to this file may be overwritten.

import type { Extension } from "../hl7-fhir-r4-core/Extension";
import type { GuidanceResponse } from "../hl7-fhir-r4-core/GuidanceResponse";
import type { Identifier } from "../hl7-fhir-r4-core/Identifier";
import type { Reference } from "../hl7-fhir-r4-core/Reference";

export interface CDS_Hooks_GuidanceResponse {
    __profileUrl: "http://hl7.org/fhir/StructureDefinition/cdshooksguidanceresponse";

    extension?: Extension[];
    requestIdentifier: Identifier;
    identifier: Identifier[];
    moduleUri: string;
    subject?: Reference<'Group' | 'Patient'>;
    occurrenceDateTime?: string;
    performer?: Reference<'Device'>;
    result?: Reference<'CarePlan' | 'RequestGroup'>;
}

export const attach_CDS_Hooks_GuidanceResponse = (resource: GuidanceResponse, profile: CDS_Hooks_GuidanceResponse): GuidanceResponse => {
    return {
        ...resource,
        meta: {
            profile: ['http://hl7.org/fhir/StructureDefinition/cdshooksguidanceresponse']
        },
        extension: profile.extension,
        requestIdentifier: profile.requestIdentifier,
        identifier: profile.identifier,
        moduleUri: profile.moduleUri,
        subject: profile.subject,
        occurrenceDateTime: profile.occurrenceDateTime,
        performer: profile.performer,
        result: profile.result,
    }
}

export const extract_GuidanceResponse = (resource: GuidanceResponse): CDS_Hooks_GuidanceResponse => {
    if (resource.requestIdentifier === undefined) {
        throw new Error("'requestIdentifier' is required for http://hl7.org/fhir/StructureDefinition/cdshooksguidanceresponse");
    }
    if (resource.identifier === undefined) {
        throw new Error("'identifier' is required for http://hl7.org/fhir/StructureDefinition/cdshooksguidanceresponse");
    }
    if (resource.moduleUri === undefined) {
        throw new Error("'moduleUri' is required for http://hl7.org/fhir/StructureDefinition/cdshooksguidanceresponse");
    }
    return {
        __profileUrl: 'http://hl7.org/fhir/StructureDefinition/cdshooksguidanceresponse',
        extension: resource.extension,
        requestIdentifier: resource.requestIdentifier,
        identifier: resource.identifier,
        moduleUri: resource.moduleUri,
        subject: resource.subject,
        occurrenceDateTime: resource.occurrenceDateTime,
        performer: resource.performer,
        result: resource.result,
    }
}
