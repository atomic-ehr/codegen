// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`SQL-on-FHIR TypeScript Generation should generate ViewDefinition type 1`] = `
"// WARNING: This file is autogenerated by @atomic-ehr/codegen.
// GitHub: https://github.com/atomic-ehr/codegen
// Any manual changes made to this file may be overwritten.

import type { BackboneElement } from "../hl7-fhir-r5-core/BackboneElement";
import type { CanonicalResource } from "../hl7-fhir-r5-core/CanonicalResource";

import type { Element } from "../hl7-fhir-r5-core/Element";
export type { BackboneElement } from "../hl7-fhir-r5-core/BackboneElement";

export interface ViewDefinitionConstant extends BackboneElement {
    name: string;
    valueBase64Binary?: string;
    valueBoolean?: boolean;
    valueCanonical?: string;
    valueCode?: string;
    valueDate?: string;
    valueDateTime?: string;
    valueDecimal?: number;
    valueId?: string;
    valueInstant?: string;
    valueInteger?: number;
    valueInteger64?: number;
    valueOid?: string;
    valuePositiveInt?: number;
    valueString?: string;
    valueTime?: string;
    valueUnsignedInt?: number;
    valueUri?: string;
    valueUrl?: string;
    valueUuid?: string;
}

export interface ViewDefinitionSelect extends BackboneElement {
    column?: ViewDefinitionSelectColumn[];
    forEach?: string;
    forEachOrNull?: string;
    repeat?: string[];
    select?: ViewDefinitionSelect[];
    unionAll?: ViewDefinitionSelect[];
}

export interface ViewDefinitionSelectColumn extends BackboneElement {
    collection?: boolean;
    description?: string;
    name: string;
    path: string;
    tag?: ViewDefinitionSelectColumnTag[];
    type?: string;
}

export interface ViewDefinitionSelectColumnTag extends BackboneElement {
    name: string;
    value: string;
}

export interface ViewDefinitionWhere extends BackboneElement {
    description?: string;
    path: string;
}

// CanonicalURL: https://sql-on-fhir.org/ig/StructureDefinition/ViewDefinition (pkg: org.sql-on-fhir.ig#2.1.0-pre)
export interface ViewDefinition extends CanonicalResource {
    constant?: ViewDefinitionConstant[];
    fhirVersion?: ("0.01" | "0.05" | "0.06" | "0.11" | "0.0" | "0.0.80" | "0.0.81" | "0.0.82" | "0.4" | "0.4.0" | "0.5" | "0.5.0" | "1.0" | "1.0.0" | "1.0.1" | "1.0.2" | "1.1" | "1.1.0" | "1.4" | "1.4.0" | "1.6" | "1.6.0" | "1.8" | "1.8.0" | "3.0" | "3.0.0" | "3.0.1" | "3.0.2" | "3.3" | "3.3.0" | "3.5" | "3.5.0" | "4.0" | "4.0.0" | "4.0.1" | "4.1" | "4.1.0" | "4.2" | "4.2.0" | "4.3" | "4.3.0" | "4.3.0-cibuild" | "4.3.0-snapshot1" | "4.4" | "4.4.0" | "4.5" | "4.5.0" | "4.6" | "4.6.0" | "5.0" | "5.0.0" | "5.0.0-cibuild" | "5.0.0-snapshot1" | "5.0.0-snapshot2" | "5.0.0-ballot" | "5.0.0-snapshot3" | "5.0.0-draft-final")[];
    _fhirVersion?: Element;
    name?: string;
    _name?: Element;
    profile?: string[];
    _profile?: Element;
    resource: string;
    _resource?: Element;
    select: ViewDefinitionSelect[];
    where?: ViewDefinitionWhere[];
}
"
`;

exports[`SQL-on-FHIR Python Generation should generate ViewDefinition type (promoted logical) 1`] = `
"# WARNING: This file is autogenerated by @atomic-ehr/codegen.
# GitHub: https://github.com/atomic-ehr/codegen
# Any manual changes made to this file may be overwritten.

from __future__ import annotations
from pydantic import BaseModel, ConfigDict, Field, PositiveInt
from typing import List as PyList, Literal

from fhir_types.hl7_fhir_r5_core.base import BackboneElement
from fhir_types.hl7_fhir_r5_core.canonical_resource import CanonicalResource
from fhir_types.hl7_fhir_r5_core.resource_families import CanonicalResourceFamily


class ViewDefinitionConstant(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    name: str = Field(alias="name", serialization_alias="name")
    value_base64binary: str | None = Field(None, alias="valueBase64Binary", serialization_alias="valueBase64Binary")
    value_boolean: bool | None = Field(None, alias="valueBoolean", serialization_alias="valueBoolean")
    value_canonical: str | None = Field(None, alias="valueCanonical", serialization_alias="valueCanonical")
    value_code: str | None = Field(None, alias="valueCode", serialization_alias="valueCode")
    value_date: str | None = Field(None, alias="valueDate", serialization_alias="valueDate")
    value_date_time: str | None = Field(None, alias="valueDateTime", serialization_alias="valueDateTime")
    value_decimal: float | None = Field(None, alias="valueDecimal", serialization_alias="valueDecimal")
    value_id: str | None = Field(None, alias="valueId", serialization_alias="valueId")
    value_instant: str | None = Field(None, alias="valueInstant", serialization_alias="valueInstant")
    value_integer: int | None = Field(None, alias="valueInteger", serialization_alias="valueInteger")
    value_integer64: int | None = Field(None, alias="valueInteger64", serialization_alias="valueInteger64")
    value_oid: str | None = Field(None, alias="valueOid", serialization_alias="valueOid")
    value_positive_int: PositiveInt | None = Field(None, alias="valuePositiveInt", serialization_alias="valuePositiveInt")
    value_string: str | None = Field(None, alias="valueString", serialization_alias="valueString")
    value_time: str | None = Field(None, alias="valueTime", serialization_alias="valueTime")
    value_unsigned_int: int | None = Field(None, alias="valueUnsignedInt", serialization_alias="valueUnsignedInt")
    value_uri: str | None = Field(None, alias="valueUri", serialization_alias="valueUri")
    value_url: str | None = Field(None, alias="valueUrl", serialization_alias="valueUrl")
    value_uuid: str | None = Field(None, alias="valueUuid", serialization_alias="valueUuid")

class ViewDefinitionSelect(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    column: PyList[ViewDefinitionSelectColumn] | None = Field(None, alias="column", serialization_alias="column")
    for_each: str | None = Field(None, alias="forEach", serialization_alias="forEach")
    for_each_or_null: str | None = Field(None, alias="forEachOrNull", serialization_alias="forEachOrNull")
    repeat: PyList[str] | None = Field(None, alias="repeat", serialization_alias="repeat")
    select: PyList[ViewDefinitionSelect] | None = Field(None, alias="select", serialization_alias="select")
    union_all: PyList[ViewDefinitionSelect] | None = Field(None, alias="unionAll", serialization_alias="unionAll")

class ViewDefinitionSelectColumn(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    collection: bool | None = Field(None, alias="collection", serialization_alias="collection")
    description: str | None = Field(None, alias="description", serialization_alias="description")
    name: str = Field(alias="name", serialization_alias="name")
    path: str = Field(alias="path", serialization_alias="path")
    tag: PyList[ViewDefinitionSelectColumnTag] | None = Field(None, alias="tag", serialization_alias="tag")
    type: str | None = Field(None, alias="type", serialization_alias="type")

class ViewDefinitionSelectColumnTag(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    name: str = Field(alias="name", serialization_alias="name")
    value: str = Field(alias="value", serialization_alias="value")

class ViewDefinitionWhere(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    description: str | None = Field(None, alias="description", serialization_alias="description")
    path: str = Field(alias="path", serialization_alias="path")


class ViewDefinition(CanonicalResource):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    resource_type: str = Field(
        default='ViewDefinition',
        alias='resourceType',
        serialization_alias='resourceType',
        frozen=True,
        pattern='ViewDefinition'
    )
    constant: PyList[ViewDefinitionConstant] | None = Field(None, alias="constant", serialization_alias="constant")
    fhir_version: PyList[Literal["0.01", "0.05", "0.06", "0.11", "0.0", "0.0.80", "0.0.81", "0.0.82", "0.4", "0.4.0", "0.5", "0.5.0", "1.0", "1.0.0", "1.0.1", "1.0.2", "1.1", "1.1.0", "1.4", "1.4.0", "1.6", "1.6.0", "1.8", "1.8.0", "3.0", "3.0.0", "3.0.1", "3.0.2", "3.3", "3.3.0", "3.5", "3.5.0", "4.0", "4.0.0", "4.0.1", "4.1", "4.1.0", "4.2", "4.2.0", "4.3", "4.3.0", "4.3.0-cibuild", "4.3.0-snapshot1", "4.4", "4.4.0", "4.5", "4.5.0", "4.6", "4.6.0", "5.0", "5.0.0", "5.0.0-cibuild", "5.0.0-snapshot1", "5.0.0-snapshot2", "5.0.0-ballot", "5.0.0-snapshot3", "5.0.0-draft-final"]] | None = Field(None, alias="fhirVersion", serialization_alias="fhirVersion")
    name: str | None = Field(None, alias="name", serialization_alias="name")
    profile: PyList[str] | None = Field(None, alias="profile", serialization_alias="profile")
    resource: str = Field(alias="resource", serialization_alias="resource")
    select: PyList[ViewDefinitionSelect] = Field(alias="select", serialization_alias="select")
    where: PyList[ViewDefinitionWhere] | None = Field(None, alias="where", serialization_alias="where")

    def to_json(self, indent: int | None = None) -> str:
        return self.model_dump_json(exclude_unset=True, exclude_none=True, indent=indent)

    @classmethod
    def from_json(cls, json: str) -> ViewDefinition:
        return cls.model_validate_json(json)

"
`;

exports[`SQL-on-FHIR Python Generation should generate domain_resource for R5 1`] = `
"# WARNING: This file is autogenerated by @atomic-ehr/codegen.
# GitHub: https://github.com/atomic-ehr/codegen
# Any manual changes made to this file may be overwritten.

from __future__ import annotations
from pydantic import BaseModel, ConfigDict, Field, PositiveInt
from typing import List as PyList, Literal

from fhir_types.hl7_fhir_r5_core.base import Extension, Narrative
from fhir_types.hl7_fhir_r5_core.resource import Resource
from fhir_types.hl7_fhir_r5_core.resource_families import ResourceFamily


class DomainResource(Resource):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    resource_type: str = Field(
        default='DomainResource',
        alias='resourceType',
        serialization_alias='resourceType',
        frozen=True,
        pattern='DomainResource'
    )
    contained: PyList[ResourceFamily] | None = Field(None, alias="contained", serialization_alias="contained")
    extension: PyList[Extension] | None = Field(None, alias="extension", serialization_alias="extension")
    modifier_extension: PyList[Extension] | None = Field(None, alias="modifierExtension", serialization_alias="modifierExtension")
    text: Narrative | None = Field(None, alias="text", serialization_alias="text")

    def to_json(self, indent: int | None = None) -> str:
        return self.model_dump_json(exclude_unset=True, exclude_none=True, indent=indent)

    @classmethod
    def from_json(cls, json: str) -> DomainResource:
        return cls.model_validate_json(json)

"
`;

exports[`SQL-on-FHIR C# Generation should generate ViewDefinition type (promoted logical) 1`] = `
"// WARNING: This file is autogenerated by @atomic-ehr/codegen.
// GitHub: https://github.com/atomic-ehr/codegen
// Any manual changes made to this file may be overwritten.


namespace Fhir.Types.OrgSqlOnFhirIg;

public class ViewDefinition : CanonicalResource {
    public ViewDefinitionConstant[]? Constant { get; set; }
    public ViewDefinitionFhirVersionBindingEnum[]? FhirVersion { get; set; }
    public string? Name { get; set; }
    public string[]? Profile { get; set; }
    public required string Resource { get; set; }
    public required ViewDefinitionSelect[] Select { get; set; }
    public ViewDefinitionWhere[]? Where { get; set; }

    public class ViewDefinitionConstant : BackboneElement {
        public required string Name { get; set; }
        public string? ValueBase64binary { get; set; }
        public bool? ValueBoolean { get; set; }
        public string? ValueCanonical { get; set; }
        public string? ValueCode { get; set; }
        public string? ValueDate { get; set; }
        public string? ValueDateTime { get; set; }
        public decimal? ValueDecimal { get; set; }
        public string? ValueId { get; set; }
        public string? ValueInstant { get; set; }
        public int? ValueInteger { get; set; }
        public long? ValueInteger64 { get; set; }
        public string? ValueOid { get; set; }
        public long? ValuePositiveInt { get; set; }
        public string? ValueString { get; set; }
        public string? ValueTime { get; set; }
        public long? ValueUnsignedInt { get; set; }
        public string? ValueUri { get; set; }
        public string? ValueUrl { get; set; }
        public string? ValueUuid { get; set; }

        public override string ToString() => 
            JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

    }

    public class ViewDefinitionSelect : BackboneElement {
        public ViewDefinitionSelectColumn[]? Column { get; set; }
        public string? ForEach { get; set; }
        public string? ForEachOrNull { get; set; }
        public string[]? Repeat { get; set; }
        public ViewDefinitionSelect[]? Select { get; set; }
        public ViewDefinitionSelect[]? UnionAll { get; set; }

        public override string ToString() => 
            JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

    }

    public class ViewDefinitionSelectColumn : BackboneElement {
        public bool? Collection { get; set; }
        public string? Description { get; set; }
        public required string Name { get; set; }
        public required string Path { get; set; }
        public ViewDefinitionSelectColumnTag[]? Tag { get; set; }
        public string? Type { get; set; }

        public override string ToString() => 
            JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

    }

    public class ViewDefinitionSelectColumnTag : BackboneElement {
        public required string Name { get; set; }
        public required string Value { get; set; }

        public override string ToString() => 
            JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

    }

    public class ViewDefinitionWhere : BackboneElement {
        public string? Description { get; set; }
        public required string Path { get; set; }

        public override string ToString() => 
            JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

    }


    public override string ToString() => 
        JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

}

"
`;

exports[`SQL-on-FHIR C# Generation should generate DomainResource for R5 1`] = `
"// WARNING: This file is autogenerated by @atomic-ehr/codegen.
// GitHub: https://github.com/atomic-ehr/codegen
// Any manual changes made to this file may be overwritten.


namespace Fhir.Types.Hl7FhirR5Core;

public class DomainResource : Resource {
    public Resource[]? Contained { get; set; }
    public Extension[]? Extension { get; set; }
    public Extension[]? ModifierExtension { get; set; }
    public Narrative? Text { get; set; }

    public override string ToString() => 
        JsonSerializer.Serialize(this, Helper.JsonSerializerOptions);

}

"
`;
